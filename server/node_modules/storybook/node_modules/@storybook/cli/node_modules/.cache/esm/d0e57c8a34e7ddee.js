let path,fs,readFileAsJson,writeFileAsJson;_34e‍.x([["getAngularAppTsConfigPath",()=>getAngularAppTsConfigPath],["getAngularAppTsConfigJson",()=>getAngularAppTsConfigJson],["editStorybookTsConfig",()=>editStorybookTsConfig],["isDefaultProjectSet",()=>isDefaultProjectSet]]);_34e‍.w("path",[["*",null,function(v){path=v}]]);_34e‍.w("fs",[["*",null,function(v){fs=v}]]);_34e‍.w("../../lib/helpers",[["readFileAsJson",["readFileAsJson"],function(v){readFileAsJson=v}],["writeFileAsJson",["writeFileAsJson"],function(v){writeFileAsJson=v}]]);



       function getAngularAppTsConfigPath() {
  const angularJson = readFileAsJson('angular.json');
  const { defaultProject } = angularJson;
  const tsConfigPath = angularJson.projects[defaultProject].architect.build.options.tsConfig;

  if (!tsConfigPath || !fs.existsSync(path.resolve(tsConfigPath))) {
    return false;
  }
  return tsConfigPath;
}

       function getAngularAppTsConfigJson() {
  const tsConfigPath = getAngularAppTsConfigPath();

  if (!tsConfigPath) {
    return false;
  }

  return readFileAsJson(tsConfigPath);
}

function setStorybookTsconfigExtendsPath(tsconfigJson) {
  const angularProjectTsConfigPath = getAngularAppTsConfigPath();
  const newTsconfigJson = { ...tsconfigJson };
  newTsconfigJson.extends = `../${angularProjectTsConfigPath}`;
  return newTsconfigJson;
}

       function editStorybookTsConfig(tsconfigPath) {
  let tsConfigJson = readFileAsJson(tsconfigPath);
  tsConfigJson = setStorybookTsconfigExtendsPath(tsConfigJson);
  writeFileAsJson(tsconfigPath, tsConfigJson);
}

       function isDefaultProjectSet() {
  const angularJson = readFileAsJson('angular.json');
  return angularJson && !!angularJson.defaultProject;
}
